export const BUSAN_SPOT_INSIGHTS = {
  '서면/전포': {
    targetName: 'MZ 뚜벅이족 & 감성 소비족',
    persona: '대중교통을 이용해 골목 맛집과 예쁜 카페를 찾아다니는 20~30대 여성',
    marketingPoint: '힙한 분위기, 인생샷 스팟, 쇼핑 후 휴식 강조',
    hashTags: ['#서면핫플', '#전포카페거리', '#부산여행', '#서면맛집'],
    tone: 'energetic'
  },
  '부산진구': { // Alias for 서면/전포
    targetName: 'MZ 뚜벅이족 & 감성 소비족',
    persona: '대중교통을 이용해 골목 맛집과 예쁜 카페를 찾아다니는 20~30대 여성',
    marketingPoint: '힙한 분위기, 인생샷 스팟, 쇼핑 후 휴식 강조',
    hashTags: ['#서면핫플', '#전포카페거리', '#부산여행', '#서면맛집'],
    tone: 'energetic'
  },
  광안리: {
    targetName: '별빛 해양 레저족',
    persona: '저녁 시간대 드론쇼와 야경을 즐기러 오는 20대 커플 및 수도권 여행객',
    marketingPoint: '광안대교 뷰, 낭만적인 밤 분위기, 데이트 코스 강조',
    hashTags: ['#광안대교뷰', '#부산야경', '#광안리데이트', '#드론쇼'],
    tone: 'emotional'
  },
  '수영구': { // Alias for 광안리
    targetName: '별빛 해양 레저족',
    persona: '저녁 시간대 드론쇼와 야경을 즐기러 오는 20대 커플 및 수도권 여행객',
    marketingPoint: '광안대교 뷰, 낭만적인 밤 분위기, 데이트 코스 강조',
    hashTags: ['#광안대교뷰', '#부산야경', '#광안리데이트', '#드론쇼'],
    tone: 'emotional'
  },
  해운대: {
    targetName: '프리미엄 가족 나들이객',
    persona: '쾌적한 환경과 고급스러운 미식을 즐기는 고소득 3040 가족 단위 방문객',
    marketingPoint: '가족이 함께하기 좋은, 주차 편리, 고급스러운 맛과 서비스 강조',
    hashTags: ['#해운대호캉스', '#가족외식', '#프리미엄', '#부산여행코스'],
    tone: 'polite'
  },
  '해운대구': { // Alias for 해운대
    targetName: '프리미엄 가족 나들이객',
    persona: '쾌적한 환경과 고급스러운 미식을 즐기는 고소득 3040 가족 단위 방문객',
    marketingPoint: '가족이 함께하기 좋은, 주차 편리, 고급스러운 맛과 서비스 강조',
    hashTags: ['#해운대호캉스', '#가족외식', '#프리미엄', '#부산여행코스'],
    tone: 'polite'
  },
  '남포동(자갈치/국제시장)': {
    targetName: '트레킹족 & 레트로 미식가',
    persona: '부산 고유의 노포 맛집과 시장의 정취를 즐기는 5060 중장년층 및 외국인',
    marketingPoint: '오래된 전통, 푸짐한 양, 부산 사람들의 정 강조',
    hashTags: ['#부산노포', '#자갈치시장', '#국제시장', '#부산찐맛집'],
    tone: 'retro'
  },
  '중구': { // Alias for 남포동
    targetName: '트레킹족 & 레트로 미식가',
    persona: '부산 고유의 노포 맛집과 시장의 정취를 즐기는 5060 중장년층 및 외국인',
    marketingPoint: '오래된 전통, 푸짐한 양, 부산 사람들의 정 강조',
    hashTags: ['#부산노포', '#자갈치시장', '#국제시장', '#부산찐맛집'],
    tone: 'retro'
  },
  '기장(오시리아)': {
    targetName: '힐링 가족 여행객',
    persona: '자차로 이동하며 롯데월드/아울렛 방문 후 맛있는 식사를 찾는 유초등 자녀 동반 가족',
    marketingPoint: '아이 동반 환영(키즈존), 넓은 주차장, 온 가족 추천 메뉴 강조',
    hashTags: ['#기장맛집', '#부산아이랑', '#오시리아관광단지', '#주말나들이'],
    tone: 'kind'
  },
  '기장군': { // Alias for 기장
    targetName: '힐링 가족 여행객',
    persona: '자차로 이동하며 롯데월드/아울렛 방문 후 맛있는 식사를 찾는 유초등 자녀 동반 가족',
    marketingPoint: '아이 동반 환영(키즈존), 넓은 주차장, 온 가족 추천 메뉴 강조',
    hashTags: ['#기장맛집', '#부산아이랑', '#오시리아관광단지', '#주말나들이'],
    tone: 'kind'
  },
  '영도(흰여울)': {
    targetName: '산책/뷰 감성족 & 로컬 여행객',
    persona: '흰여울 문화마을 산책과 카페 투어를 즐기는 20~30대 여행객',
    marketingPoint: '바다 뷰, 골목 감성, 사진 스팟 강조',
    hashTags: ['#영도카페', '#흰여울문화마을', '#영도여행', '#바다뷰맛집'],
    tone: 'calm'
  },
  '영도구': { // Alias for 영도
    targetName: '산책/뷰 감성족 & 로컬 여행객',
    persona: '흰여울 문화마을 산책과 카페 투어를 즐기는 20~30대 여행객',
    marketingPoint: '바다 뷰, 골목 감성, 사진 스팟 강조',
    hashTags: ['#영도카페', '#흰여울문화마을', '#영도여행', '#바다뷰맛집'],
    tone: 'calm'
  },
  '기타(동네)': {
    targetName: '동네 이웃 & 퇴근길 직장인',
    persona: '퇴근길에, 혹은 집 근처에서 편안하게 들르고 싶은 동네 주민',
    marketingPoint: '날씨/요일 공감 멘트, 퇴근길 힐링, 동네 아지트',
    hashTags: ['#동네맛집', '#숨은맛집', '#퇴근길', '#단골환영'],
    tone: 'neighbor'
  }
};

export const getInsight = (location) => {
  const normalized = (location ?? '').trim();
  const lower = normalized.toLowerCase();
  let matchedKey = null;

  if (lower) {
    Object.keys(BUSAN_SPOT_INSIGHTS).forEach((key) => {
      if (matchedKey) return;
      const candidate = key.toLowerCase();
      if (candidate.includes(lower) || lower.includes(candidate)) {
        matchedKey = key;
      }
    });
  }

  const exists = Boolean(matchedKey);
  const key = matchedKey ?? '기타(동네)';
  const insight = BUSAN_SPOT_INSIGHTS[key];

  return { insight, exists, key };
};
