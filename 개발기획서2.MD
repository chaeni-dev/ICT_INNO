# 개발 기획서 v2: 부울경 소상공인 AI 마케팅 매니저

## 1. 목표와 핵심 가치
- 목표: 사진/간단 정보만으로 인스타/스토리/지도 리뷰/문자 홍보문구를 자동 생성하는 로컬 특화 도구
- 핵심 가치: 글 잘 못 써도 매일 홍보 가능, 부산 데이터·부산 감성 반영, 빠른 사용성
- 주요 타깃: 부산·울산·경남 소상공인(카페, 식당, 동네 가게 등)
- **차별화 포인트**: 단순 GPT 껍데기가 아닌, 지역 데이터를 능동적으로 제안하는 Local AI

## 2. 제품 범위
- **필수(MVP)**
  - Vite+React 단일 페이지, 입력 폼 및 결과 표시
  - POST /api/generate 연동: 채널별 문구/해시태그 생성, 복사 기능
  - **로컬 이슈 자동 제안**: 위치 선택 시 자동으로 배너 표시 (기본값, 필수 기능)
  - **부산 사투리 필수 기능**: 표준어와 부산 사투리 버전을 동시에 생성하여 비교 제공
  - **미리보기 UI**: 텍스트가 아닌 실제 앱 화면처럼 보이는 Preview 형태
- 선택(시간 되면)
  - 추가 Tone & Manner 옵션 (친근한, 전문적인, 유머러스, 감성적)
  - 탭 UI 다듬기, 간단 통계/로그 저장
- 여유 시
  - 사진 업로드 → 사진 설명 필드 반영, 마케팅 캘린더 UI 확장, 생성 히스토리 화면

## 3. 기술 스택
- Frontend: React + Vite, TypeScript, Tailwind CSS, React Query(+Context), fetch/axios
- Backend: Node.js + Express(BFF), LLM API 프록시, 로컬 데이터 적재(JSON/CSV), 간단 로깅
- AI/데이터: 업스테이지 Solar API, 부산 축제/유동인구/관광 데이터, 날씨/요일/시간대 컨텍스트
- **Solar LLM 강점 활용**: 한국어와 뉘앙스 처리 능력을 부산 사투리로 증명

## 4. 아키텍처 개요
- 브라우저(SPA) ↔ REST API ↔ BFF(Express)
  - BFF: LLM 호출, 부산 데이터 로딩/필터링, 프롬프트 생성·포맷팅, 응답 캐싱(옵션)
  - 데이터: 사전 로딩된 로컬 JSON/CSV → location/date 기준 필터 → 프롬프트 컨텍스트 주입
- **로컬 이슈 자동 조회**: 위치 입력 시 즉시 GET /api/local-context 호출하여 배너 표시

## 5. 주요 기능

### 5.1 AI 홍보글 생성기
- 업종/가게명/위치/소개/대표메뉴/이벤트/Tone/시점/채널 입력 → 채널별 문구+해시태그 반환
- **부산 사투리 필수 생성**: 모든 문구에 표준어 버전과 부산 사투리 버전을 동시에 생성

### 5.2 로컬 이슈 자동 제안 (핵심 차별화 기능)
- **기존 방식 (제거)**: "오늘 우리 동네 이슈 불러오기" 버튼을 사용자가 수동으로 클릭
- **새로운 방식 (필수)**: 
  - 사용자가 위치(예: 광안리)를 입력하자마자 자동으로 GET /api/local-context 호출
  - 화면 상단에 배너 형태로 표시: "💡 오늘 광안리 불꽃축제 날이네요! 관련 멘트를 준비할까요?"
  - 배너는 항상 표시되며, 사용자가 닫기 전까지 유지
  - 이 컨텍스트는 자동으로 프롬프트에 주입 (useLocalContext 기본값: true)
- **심사 포인트**: "우리는 지역 데이터를 수동적으로 쓰는 게 아니라, 능동적으로 제안합니다"

### 5.3 부산 사투리 필수 기능 (메인 기능)
- **기존**: Tone & Manner 선택 옵션 중 하나
- **변경**: 모든 생성 결과에 **표준어 버전**과 **부산 사투리 버전**을 동시에 제공
- 결과 화면 구성:
  ```
  [표준어 버전]
  "오늘처럼 쌀쌀한 날엔 따뜻한 국밥 어떠세요?"
  
  [부산 사투리 버전] ⭐
  "오늘같이 춥을 땐 뜨끈~한 국밥 한 그릇 때려야 안 됩니까!"
  ```
- **Upstage 트랙 공략**: Solar LLM의 한국어와 뉘앙스 처리 능력을 부산 사투리로 증명
- 프롬프트에 항상 "부산 사투리 버전도 함께 생성하라" 지시 포함

### 5.4 마케팅 시점 선택
- 오늘/주말/급여일/축제 버튼값을 프롬프트에 반영

### 5.5 결과 미리보기 (Preview UI)
- **기존**: 단순 텍스트 박스에 글자만 표시
- **변경**: 각 채널별로 실제 앱 화면처럼 보이는 Preview 제공
  - **인스타그램 탭**: 
    - 실제 인스타그램 앱 화면처럼 생긴 카드
    - 더미 이미지(또는 업로드한 사진)와 생성된 글이 함께 표시
    - 프로필 사진, 좋아요 버튼 등 UI 요소 포함
  - **인스타그램 스토리 탭**:
    - 스토리 형태의 세로 카드
    - 텍스트 오버레이와 함께 표시
  - **지도 리뷰 탭**:
    - 네이버/구글 지도 리뷰 UI 형태
    - 별점, 리뷰 텍스트 영역
  - **문자/알림톡 탭**:
    - 아이메시지나 카카오톡 말풍선 모양의 UI
    - 발신자/수신자 구분, 시간 표시
- **효과**: 사장님(사용자) 입장에서 "아, 이렇게 올라가는구나!"를 직관적으로 느낄 수 있음

## 6. 화면 설계(요약)

### 6.1 메인 페이지 구성
- 헤더: 서비스 로고/타이틀, 슬로건
- **로컬 이슈 배너 (자동 표시)**
  - 위치 입력 시 즉시 표시
  - "💡 오늘 {위치} {이벤트명} 날이네요! 관련 멘트를 준비할까요?"
  - 닫기 버튼 제공
- 입력 패널 (좌측 또는 상단 카드)
  - 업종, 가게명, 위치
  - 가게 한 줄 소개
  - 대표 메뉴 입력
  - 이벤트/할인 정보
  - Tone 선택 (추가 옵션, 부산 사투리는 항상 포함)
  - 시점 선택
  - 채널 선택
  - "AI에게 맡기기" 버튼
- 결과 패널 (우측 또는 하단 카드)
  - 탭 구조: [인스타 피드] [스토리] [지도 리뷰] [문자/알림톡]
  - 각 탭 내용:
    - **미리보기 UI** (실제 앱 화면처럼)
    - [표준어 버전] / [부산 사투리 버전] 토글 또는 동시 표시
    - 해시태그 리스트 (인스타 탭)
    - "복사하기" 버튼
- 푸터: 트랙/데모 안내 간단 표기

### 6.2 결과 화면 상세
- **인스타그램 피드 Preview**:
  ```
  ┌─────────────────────────┐
  │ [프로필] 가게이름  ...  │
  │ [더미 이미지]           │
  │ 좋아요 💬 공유          │
  │ 가게이름 생성된 문구... │
  │ #해시태그 #리스트       │
  └─────────────────────────┘
  ```
- **문자/알림톡 Preview**:
  ```
  ┌─────────────────────────┐
  │     [시간]              │
  │ ┌──────────────┐       │
  │ │ 생성된 문구   │       │
  │ └──────────────┘       │
  └─────────────────────────┘
  ```

## 7. API 설계(초안)

### 7.1 홍보글 생성 API
- **POST /api/generate**
  - Req: storeName, category, location, intro, menus[], event, tone, timing, channels[], useLocalContext (기본값: true)
  - Res: 
    ```json
    {
      "contextSummary": "오늘 광안리 불꽃축제...",
      "results": {
        "instagram_feed": {
          "standard": {
            "text": "표준어 버전...",
            "hashtags": ["#해시태그"]
          },
          "busan": {
            "text": "부산 사투리 버전...",
            "hashtags": ["#해시태그"]
          }
        },
        "instagram_story": {
          "standard": { "text": "..." },
          "busan": { "text": "..." }
        },
        "map_review": {
          "standard": { "text": "..." },
          "busan": { "text": "..." }
        },
        "sms": {
          "standard": { "text": "..." },
          "busan": { "text": "..." }
        }
      }
    }
    ```

### 7.2 로컬 컨텍스트 조회 API (자동 호출)
- **GET /api/local-context?location=광안리**
  - **호출 시점**: 사용자가 위치를 입력하자마자 자동 호출
  - Res: 
    ```json
    {
      "contextSummary": "오늘 광안리 불꽃축제 날이네요!",
      "eventName": "광안리 불꽃축제",
      "date": "2024-03-15",
      "description": "관광객 유입 증가 예상"
    }
    ```
  - Frontend에서 배너로 즉시 표시

## 8. 데이터/프롬프트 전략

### 8.1 데이터 전처리
- 부산 축제/유동인구/관광 JSON/CSV 사전 로딩
- 날짜+동/상권 필터 후 summary 생성
- **위치 입력 시 즉시 필터링하여 배너 표시**

### 8.2 프롬프트 템플릿
- 가게 정보 + 로컬 컨텍스트(자동 주입) + 시점 + Tone 설명
- **부산 사투리 필수 생성 지시**:
  ```
  각 채널별 문구를 다음 두 가지 버전으로 생성하라:
  1. 표준어 버전: 세련되고 자연스러운 한국어
  2. 부산 사투리 버전: 부산 지역 특색을 살린 친근한 사투리
     예: "오늘같이 춥을 땐 뜨끈~한 국밥 한 그릇 때려야 안 됩니까!"
  ```
- 채널별 문구/해시태그를 JSON으로 반환

## 9. 일정/우선순위 가이드(해커톤 9~16시 가정)
- **1단계(~11시)**: 
  - Vite+React 셋업, 메인 레이아웃
  - 입력 폼 작성
  - **로컬 이슈 자동 배너 구현** (위치 입력 시 자동 표시)
  - /api/generate 목업 연동
- **2단계(11~13시)**: 
  - 채널별 결과/복사
  - **부산 사투리 필수 생성 로직** (표준어+사투리 동시 생성)
  - **미리보기 UI 구현** (인스타, 문자 등 실제 앱처럼)
  - 로딩/에러 처리
- **3단계(13~15시)**: 
  - 로컬 컨텍스트 목업 데이터 연동
  - UI 다듬기, 애니메이션
  - 데모 시나리오 준비
- **4단계(~16시)**: 
  - 폴리싱
  - 데모 스크립트
  - 기본 로그

## 10. 비기능 요구
- 빠른 응답(LLM 호출 최소화, 캐싱 고려)
- 오류 시 친절 메시지
- 데모용 기본 입력값 제공
- 배포: Vite 빌드 → 정적 호스팅, BFF는 단일 Express 서버로 LLM 프록시
- **로컬 이슈 조회는 빠른 응답 필수** (사용자 경험 저해 방지)

## 11. 핵심 차별화 포인트 (심사 대비)

### 11.1 능동적 로컬 데이터 활용
- ❌ "버튼을 눌러야 이슈를 불러옴" (수동적)
- ✅ "위치 입력 시 자동으로 이슈 제안" (능동적)
- **메시지**: "우리는 지역 데이터를 수동적으로 쓰는 게 아니라, 능동적으로 제안합니다"

### 11.2 부산 사투리 필수 기능
- ❌ "선택 옵션 중 하나"
- ✅ "모든 결과에 표준어+부산 사투리 동시 제공"
- **메시지**: "Solar LLM의 한국어와 뉘앙스 처리 능력을 부산 사투리로 증명"

### 11.3 직관적인 미리보기
- ❌ "텍스트 박스에 글자만"
- ✅ "실제 앱 화면처럼 보이는 Preview"
- **메시지**: "사장님이 실제로 어떻게 올라가는지 직관적으로 이해"

## 12. 프롬프트 설계 (요약)

### 12.1 로컬 컨텍스트 자동 주입
```
[로컬 컨텍스트]
{자동으로 주입된 지역 이슈}
예: "오늘 광안리 불꽃축제가 열리고, 관광객 유입이 증가할 것으로 예상됩니다."
```

### 12.2 부산 사투리 필수 생성
```
[요청]
각 채널별 문구를 다음 두 가지 버전으로 생성하라:

1. 표준어 버전: 세련되고 자연스러운 한국어로 작성
   예: "오늘처럼 쌀쌀한 날엔 따뜻한 국밥 어떠세요?"

2. 부산 사투리 버전: 부산 지역 특색을 살린 친근한 사투리로 작성
   예: "오늘같이 춥을 땐 뜨끈~한 국밥 한 그릇 때려야 안 됩니까!"
   
   - 부산 사투리 특징: "~하이소", "~안 됩니까", "억수로", "때리다" 등 자연스럽게 사용
   - 너무 과하지 않게, 단골 손님에게 말하듯 친근하게
```

### 12.3 채널별 최적화
- 인스타그램 피드: 시각적 요소 고려, 해시태그 필수
- 인스타그램 스토리: 짧고 임팩트 있게
- 지도 리뷰: 신뢰감 있는 톤
- 문자/알림톡: 친근하고 직접적인 톤

## 13. UX 플로우 (수정)

### 13.1 로컬 이슈 자동 제안 플로우
1. 사용자가 "위치" 입력 필드에 "광안리" 입력
2. **즉시** GET /api/local-context?location=광안리 호출
3. 응답 받으면 화면 상단에 배너 표시:
   ```
   💡 오늘 광안리 불꽃축제 날이네요! 관련 멘트를 준비할까요?
   [닫기]
   ```
4. 배너는 닫기 전까지 유지
5. "AI에게 맡기기" 클릭 시 자동으로 이 컨텍스트가 프롬프트에 주입

### 13.2 결과 확인 플로우
1. 생성 완료 후 결과 탭 표시
2. 각 채널 탭 클릭 시 **미리보기 UI** 표시
3. [표준어 버전] / [부산 사투리 버전] 토글로 전환 가능
4. 미리보기에서 "복사하기" 클릭 시 해당 버전 텍스트 복사

## 14. 데모 시나리오 (수정)

### 14.1 시나리오 1: 로컬 이슈 자동 제안
1. "위치"에 "광안리" 입력
2. **자동으로 배너 표시**: "💡 오늘 광안리 불꽃축제 날이네요!"
3. 나머지 정보 입력 후 "AI에게 맡기기"
4. 결과에 축제 관련 문구가 자연스럽게 포함됨

### 14.2 시나리오 2: 부산 사투리 비교
1. 가게 정보 입력 후 생성
2. 결과 화면에서 [표준어 버전]과 [부산 사투리 버전] 비교
3. "부산 사투리 버전이 훨씬 친근하고 지역 특색이 살아있네요!"

### 14.3 시나리오 3: 미리보기 직관성
1. 인스타그램 탭 클릭
2. **실제 인스타그램 앱처럼 보이는 Preview** 확인
3. "아, 이렇게 올라가는구나!" 직관적 이해

---

## 변경 사항 요약

### A. 로컬 이슈 불러오기 → 자동 제안 (필수)
- ❌ 제거: "오늘 우리 동네 이슈 불러오기" 버튼
- ✅ 추가: 위치 입력 시 자동으로 배너 표시
- ✅ 효과: 능동적 데이터 활용으로 차별화

### B. 부산 사투리 → 필수 기능 (메인)
- ❌ 제거: 선택 옵션 중 하나
- ✅ 추가: 모든 결과에 표준어+부산 사투리 동시 생성
- ✅ 효과: Solar LLM 강점 증명

### C. 결과 화면 → 미리보기 UI (필수)
- ❌ 제거: 단순 텍스트 박스
- ✅ 추가: 실제 앱 화면처럼 보이는 Preview
- ✅ 효과: 직관적 UX로 사용자 이해도 향상

